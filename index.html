<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Mohammad Mujahid's 3-D Skills Constellation Chart</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    html, body { height:100%; margin:0; background:#040414; }
    #3d-graph { width:100vw; height:100vh; display:block; }
    #starCanvas { display:none; width:256px; height:256px; }

    @font-face {
      font-family: "MyCustomFont";
      src: url("FoundationTitlesHand.ttf") format("truetype");
    }

    #refreshBtn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      border: none;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(5px);
      color: #ffffff;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(255, 255, 255, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    #refreshBtn:hover { transform: scale(1.1); box-shadow: 0 6px 20px rgba(255, 255, 255, 0.5); }
    #refreshBtn:active { transform: scale(0.95); }
    html, body {
  width: 100%;
  height: 100%;
  margin: 0;
  overflow: hidden;
}
#3d-graph {
  width: 100%;
  height: 100%;
  touch-action: none;  /* essential for mobile gestures */
}

  </style>
</head>
<body>
<canvas id="starCanvas" width="256" height="256"></canvas>
<div id="3d-graph"></div>
<button id="refreshBtn" title="Refresh">&#x21bb;</button>

<script src="https://cdn.jsdelivr.net/npm/three@0.150.1/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/3d-force-graph@1.77.0/dist/3d-force-graph.min.js"></script>
<script>
// ========== CONFIG ==========
const STAR_SIZE = 9;
const LABEL_FONT_SIZE = 69;
const PARTICLE_WIDTH = 1.0;
const PARTICLE_SPEED = 0.001;
const PARTICLE_OPACITY = 0.3;

const skills = [
  "Cash Application", "Invoice Processing", "Bank Reconciliation", "Accounts Receivable",
  "ACH Processing", "Wire Payment Processing", "Check Processing", "NSF Handling",
  "Remittance Matching", "Customer Communication",
  "Credit Management", "Invoice Distribution", "Collections",
  "Customer Queries Handling", "AR Aging Report", "Payment Dispute Resolution",
  "Bank Statement Analysis", "Service Charge Management", "Write-Offs Management",
  "Vendor Coordination", "Internal Reporting", 
  "Versapay Platform", "Micro Dynamics ERP", "C MOD Software", "ISR Tool",
  "Open Scan Research Tool", "Quadrient Impress", "ACH Auto Deduct Coordination",
  "Financial Accounting", "Cost Accounting", "Direct Taxation", "Indirect Taxation",
  "GST Compliance", "TDS Compliance", "Income Tax", "Payroll Accounting",
  "Balance Sheet Preparation", "Profit & Loss Statement", "Trial Balance",
  "General Ledger Management", "Journal Entries", "Bank Reconciliation Statement",
  "Financial Analysis", "Variance Analysis", "Budgeting", "Forecasting",
  "Cost Allocation", "Material Ledger", "Stock Ledger", "Inventory Accounting",
  "Fixed Assets Accounting", "Depreciation Accounting", "Payroll Processing",
  "Accounting Principles", "Tally ERP", "SAP FICO Basics",
  "Internal Audit Support",
  "Professional Etiquette", "Report Writing", "Documentation Management",
  "Data Entry Accuracy", "Attention to Detail", "Organizational Skills", "Time Management",
  "Client Communication", "Workforce Management",
  "Task Scheduling", "Performance Tracking", "Presentation Skills", "Decision Making",
  "Problem Solving", "Analytical Thinking", "Critical Thinking", "Logical Reasoning",
  "Process Improvement", "Workflow Optimization", "Process Mapping", "Operational Efficiency",
  "Quality Management", "Audit Preparation", "Risk Assessment", "Compliance Checks",
  "Adaptability", "Continuous Learning", "Self-Motivation",
  "Stress Management", "Conflict Resolution", "Negotiation", "Persuasion", "Influencing Skills",
  "Leadership", "Team Management", "Delegation", "Mentoring", "Coaching",
  "Employee Engagement", "Professional Ethics", "Interpersonal Skills", "Networking",
  "Collaboration", "Time Optimization", "Active Listening", 
  "Customer Relationship Management", 
  "Professionalism", "Positive Attitude", "Work-Life Balance", "Self-Discipline",
  "Presentation Design", "Report Structuring", "Email Etiquette", 
  "Advanced Excel", "Pivot Tables", "VLOOKUP", "HLOOKUP",
  "Index Match", "Conditional Formatting", "Excel Macros", "Power Pivot",
  "Charts & Graphs", "Data Analysis", "Data Visualization", "Tables & Formulas",
  "Dashboard Creation", "Power BI Basics", "Power BI Reports", 
  "Excel Reporting", "Spreadsheet Automation", "Tally ERP Reports", 
  "Bills of Exchange", "Consignment Accounting", "Joint Ventures Accounting",
  "Sale of Goods Act", "Negotiable Instruments Act", "Acceptance & Dishonour of Instruments",
  "Crossing & Endorsement", "Rights of Unpaid Seller",
  "Auction Sales", "Direct Tax Computation", "Income Tax Filing",
  "GST Returns", "TDS Returns", "Indirect Tax Reconciliation", "Costing Methods",
  "Labour Cost Variance", "Material Cost Variance", "Overhead Variance",
  "Job Costing", "Process Costing", "Contract Costing", "Budgetary Control",
  "Standard Costing", "Financial Ratios", "Liquidity Ratios", "Profitability Ratios",
   "C MOD", "ISR",
  "Open Scan 7", "Versapay", "Micro Dynamics Group",
  "Continuous Improvement", "Self-Study", "Professional Development", "Time Blocking",
  "Pomodoro Technique", "Focus Management", "Skill Upgradation",
  "Knowledge Management", "NPTEL Courses", "ICMAI Test Practice", "Night Shift Management",
  "Productivity Hacks", "Task Prioritization",
  "Relator Networking", "Building Trust", "Deep Relationship Building", "Active Empathy", "Perspective Taking",
  "Conflict Mediation", "Team Cohesion", "One-on-One Coaching", "Feedback Facilitation", "Mentorship Guidance",
  "Deliberative Risk Assessment", "Cautious Decision Making", "Thoughtful Planning", "Scenario Analysis", "Trade-Off Analysis",
  "Learner Mindset", "Continuous Knowledge Acquisition", "Self-Directed Learning", "Learning Agility", "Skill Retention",
  "Intellection Reflection", "Deep Thinking", "Critical Analysis", "Conceptual Mapping", "Thought Synthesis",
  "Input Curation", "Information Gathering", "Knowledge Repository Creation", "Research Skills", "Resource Compilation",
  "Empathy Listening", "Understanding Others' Emotions", "Emotional Intelligence", "Active Listening", "Perspective Integration",
  "Individualization Personalization", "Tailored Coaching", "Personalized Feedback", "Strength-Based Alignment", "Talent Spotting",
  "Developer Coaching", "Talent Nurturing", "Capability Building", "Growth Planning", "Performance Support",
  "Harmony Facilitation", "Consensus Building", "Conflict Resolution", "Team Alignment", "Collaboration Encouragement",
  "Restorative Problem Solving",
  "Ideation Creativity", "Brainstorm Facilitation", "Innovation Management", "Creative Problem Solving", "Concept Development",
  "Connectedness Awareness", 
  "Positivity Encouragement", "Morale Uplift", "Motivation Skills", "Optimistic Framing", "Celebration of Wins",
  "Discipline Routine Creation", "Time Management", "Structured Planning", "Process Adherence", "Goal Achievement",
  "Significance Impact Making", "Influence Skills", "High-Impact Communication", "Thought Leadership", "Purpose Alignment",
  "Maximizer Excellence Optimization", "Performance Enhancement", "Skill Refinement", "Process Optimization", "Quality Improvement",
  "Achiever Goal Completion", "Task Execution", "Performance Tracking", "Milestone Management", "Productivity Boosting",
  "Responsibility Ownership", "Accountability", "Follow-Through", "Dependability", "Trustworthiness",
  "Analytical Data Evaluation", "Logical Reasoning", 
  "Self-Assurance Confidence", "Decision Confidence", "Independent Thinking", "Self-Reliance", "Assertiveness",
  "Adaptability Flexibility", "Change Management", 
  "Arranger Resource Coordination", "Team Orchestration", "Workflow Management",
  "Consistency Fairness", "Rule-Based Management", "Equality Enforcement", "Policy Adherence", "Standardization",
  "Belief Values Alignment", "Ethical Decision Making", "Principle-Driven Action", "Mission Alignment", "Integrity Focus",
  "Communication Storytelling", "Persuasive Writing", "Presentation Skills", "Influential Communication",
  "Context Historical Insight", "Lessons From History", "Trend Analysis", "Comparative Analysis", "Situational Awareness",
  "Activator Initiative Taking", "Proactive Execution", "Action-Oriented Mindset", "Implementation Drive", "Quick Launching",
  "Command Decision Leadership", "Directive Leadership", "Influence Authority", "Conflict Handling", "Crisis Management",
  "Woo Relationship Initiating", "Social Influence", "Networking Skills", "Connection Building", "Relationship Initiation",
  "Includer Inclusion Facilitation", "Diversity Awareness", "Inclusive Team Building", "Equity Practices", "Participation Encouragement",
  "Strengths-Based Coaching", "Gallup Strengths Mapping", 
  "Dispute Resolution Management", "SLA Management", "Invoice Discrepancy Investigation", "Supplier Reconciliation", "Customer Credit Analysis",
  "Vendor Risk Assessment", "Month-End Closing", "Statutory Compliance Reporting"
];
const N = skills.length;
const gData = {
  nodes: [...Array(N).keys()].map(i => ({ id: i, skill: skills[i % skills.length] })),
  links: [...Array(N).keys()].filter(i => i).map(i => ({ source: i, target: Math.round(Math.random() * (i - 1)) }))
};

// ========== GLOW STAR ==========
const canvas = document.getElementById('starCanvas');
const ctx = canvas.getContext('2d');
const cx = canvas.width/2, cy = canvas.height/2;
let burstProgress = 1;
let targetBurstProgress = 1;

function drawGlowingStar() {
    burstProgress += (targetBurstProgress - burstProgress) * 0.08;

    ctx.clearRect(0,0,canvas.width,canvas.height);

    for(let i=8;i>0;i--){
        ctx.save();
        const baseRadius = 50 + i*10;
        const glowRadius = baseRadius * burstProgress + Math.sin(Date.now()/900)*2;
        ctx.globalAlpha = 0.06*(i/8)*burstProgress;
        ctx.shadowBlur = (30+i*5)*burstProgress;
        ctx.beginPath();
        ctx.arc(cx,cy,glowRadius,0,Math.PI*2);
        ctx.closePath();
        ctx.fillStyle = i%2===0?'rgba(62,189,255,0.7)':'rgba(255,236,128,0.3)';
        ctx.shadowColor = i%2===0?'#60ecff':'#fffadc';
        ctx.fill();
        ctx.restore();
    }

    ctx.save();
    const grad = ctx.createRadialGradient(cx,cy,5,cx,cy,20*burstProgress);
    grad.addColorStop(0,'#fff');
    grad.addColorStop(0.3,'#fff6b5');
    grad.addColorStop(1,'#fffacd11');
    ctx.beginPath();
    ctx.arc(cx,cy,20*burstProgress,0,Math.PI*2);
    ctx.closePath();
    ctx.fillStyle = grad;
    ctx.shadowColor='gold';
    ctx.shadowBlur = 30*burstProgress;
    ctx.fill();
    ctx.restore();

    requestAnimationFrame(drawGlowingStar);
}
drawGlowingStar();
const starTexture = new THREE.CanvasTexture(canvas);

// ========== 3D GRAPH ==========
const Graph = ForceGraph3D({ controlType:'orbit' })(document.getElementById('3d-graph'))
  .graphData(gData)
  .nodeThreeObject(node=>{
    const group = new THREE.Group();

    const starCanvas = document.createElement('canvas');
    starCanvas.width = starCanvas.height = 64;
    const ctx = starCanvas.getContext('2d');
    const gradient = ctx.createRadialGradient(32,32,0,32,32,32);
    gradient.addColorStop(0,'rgba(255,255,200,1)');
    gradient.addColorStop(0.3,'rgba(255,220,120,0.8)');
    gradient.addColorStop(0.6,'rgba(255,180,60,0.5)');
    gradient.addColorStop(1,'rgba(255,180,60,0)');
    ctx.fillStyle = gradient;
    ctx.fillRect(0,0,64,64);
    const texture = new THREE.CanvasTexture(starCanvas);
    const material = new THREE.SpriteMaterial({map:texture,transparent:true});
    const sprite = new THREE.Sprite(material);
    sprite.scale.set(STAR_SIZE, STAR_SIZE, 1);
    group.add(sprite);

    const labelCanvas = document.createElement('canvas');
    const labelCtx = labelCanvas.getContext('2d');
    labelCtx.font = `${LABEL_FONT_SIZE}px MyCustomFont`;
    const text = node.skill;
    const textWidth = labelCtx.measureText(text).width;
    labelCanvas.width = textWidth+20;
    labelCanvas.height = LABEL_FONT_SIZE+10;
    labelCtx.font = `${LABEL_FONT_SIZE}px MyCustomFont`;
    labelCtx.fillStyle = '#cce6ff';
    labelCtx.fillText(text,5,LABEL_FONT_SIZE);
    const labelTexture = new THREE.CanvasTexture(labelCanvas);
    const labelMaterial = new THREE.SpriteMaterial({map:labelTexture,transparent:true});
    const label = new THREE.Sprite(labelMaterial);
    label.position.set(0,LABEL_FONT_SIZE*0.2,0);
    label.scale.set(labelCanvas.width*0.06,labelCanvas.height*0.06,1);
    group.add(label);

    node.__threeObj = group; // save reference for refresh
    return group;
  })
  .linkWidth(1)
  .linkColor(()=> 'rgba(160,200,220,0.08)')
  .linkOpacity(1)
  .linkDirectionalParticles(1)
  .linkDirectionalParticleWidth(PARTICLE_WIDTH)
  .linkDirectionalParticleSpeed(()=> PARTICLE_SPEED)
  .linkDirectionalParticleColor(()=> `rgba(255,246,200,${PARTICLE_OPACITY})`)
  .onNodeHover(node=>document.body.style.cursor=node?'pointer':null);

Graph.d3Force('link').distance(45);
Graph.d3Force('charge').strength(-25);

const initialZ = 900;
Graph.cameraPosition({ x:0, y:0, z:initialZ });

const controls = Graph.controls();
controls.enableDamping = true;
controls.dampingFactor = 0.005;
controls.zoomSpeed = 0.5;
controls.minDistance = 150;
controls.maxDistance = 2000;
controls.enableRotate = true;
controls.enablePan = true;
controls.screenSpacePanning = true;
  controls.enableZoom = true;  // make sure zoom works

let userInteracting = false;
controls.addEventListener('start',()=>userInteracting=true);
controls.addEventListener('end',()=>userInteracting=false);

// --- drifting camera ---
let camTarget = new THREE.Vector3(0,0,600);
let driftSpeed = 0.004;
const cam = Graph.camera();
function pickNewTarget() {
  const range = 900;
  camTarget.set((Math.random()-0.5)*range,(Math.random()-0.5)*range,(Math.random()-0.5)*range);
}
pickNewTarget();
function autoDrift() {
  if(userInteracting) return;
  cam.position.lerp(camTarget, driftSpeed);
  cam.lookAt(0,0,0);
  if(cam.position.distanceTo(camTarget)<20) pickNewTarget();
}

(function animateLoop(){
  requestAnimationFrame(animateLoop);
  autoDrift();   // only handle your drifting camera
})();

</script>
<script>
document.getElementById('refreshBtn').addEventListener('click', () => {
    location.reload(); // this will reload the entire page
});
</script>

</body>
</html>
